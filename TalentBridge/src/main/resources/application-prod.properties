# Production Configuration with MariaDB
spring.application.name=TalentBridge-Backend

# Database connection config (MariaDB/MySQL)
# Uses environment variables from Docker/deployment
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mariadb://localhost:3306/talentbridge}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:talentbridge_user}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:change_this_password}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}
spring.jpa.defer-datasource-initialization=true

# SQL Initialization
spring.sql.init.mode=always
spring.sql.init.continue-on-error=false

# JWT Config
jwt.secret=${JWT_SECRET:CHANGE-THIS-IN-PRODUCTION}
jwt.access-token-expiration=${JWT_ACCESS_TOKEN_EXPIRATION:900}
jwt.refresh-token-expiration=${JWT_REFRESH_TOKEN_EXPIRATION:86400}

# Pagination Config
spring.data.web.pageable.one-indexed-parameters=true
spring.data.web.pageable.max-page-size=20

# Google Cloud Storage Config (Optional - leave empty to use local storage)
gcs.project-id=${GCS_PROJECT_ID:}
gcs.bucket-name=${GCS_BUCKET_NAME:}
gcs.credentials-path=${GCS_CREDENTIALS_PATH:./gcs-credentials.json}

# Redis Config
redis.host=${REDIS_HOST:localhost}
redis.port=${REDIS_PORT:6379}
redis.password=${REDIS_PASSWORD:}

# Caching
spring.cache.type=${SPRING_CACHE_TYPE:redis}

# Swagger
springdoc.api-docs.path=/v3/api-docs

# Mail Sender Config (Optional - leave empty to disable email features)
spring.mail.host=${SPRING_MAIL_HOST:}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:}
mail.from=${MAIL_FROM:noreply@talentbridge.com}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Actuator (for health checks)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# Logging
logging.level.root=${LOGGING_LEVEL:INFO}
logging.level.com.example.talentbridge=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=/app/logs/talentbridge.log

# CORS (frontend origins in production; override via ALLOWED_ORIGINS env)
app.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost}
